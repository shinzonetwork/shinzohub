name: shinzo
resources:

- name: primitive
  relations:
  - name: admin
    manages:
    - writer
    - syncer
    - subscriber
    - banned
    types:
    - actor
    - group->administrator
  - name: writer
    types:
    - actor
    - group->member
  - name: syncer
    types:
    - actor
    - group->member
  - name: subscriber
    types:
    - actor
  - name: banned
    types:
    - actor
  permissions:
  - name: sync
    expr: (writer + syncer + subscriber) - banned
  - name: update
    expr: writer - banned
  - name: delete
  - name: read
    expr: (subscriber) - banned

- name: view
  relations:
  - name: admin
    manages:
    - creator
    - writer
    - syncer
    - subscriber
    - parent
    - banned
    types:
    - actor
    - group->administrator
  - name: creator
    types:
    - actor
  - name: writer
    types:
    - actor
    - group->member
  - name: syncer
    types:
    - actor
    - group->member
  - name: banned
    types:
    - actor
  - name: subscriber
    types:
    - actor
  - name: parent
    types:
    - primitive
    - view
  permissions:
  - name: sync
    expr: writer + syncer + parent->sync + subscriber - banned
  - name: update
    expr: ((writer + parent->update)) - banned
  - name: read
    expr: (subscriber) - banned
  - name: delete
  - name: created
    expr: creator - banned

- name: group
  relations:
  - name: admin
    manages:
    - guest
    - blocked
    types:
    - actor
    - group->administrator
  - name: guest
    types:
    - actor
  - name: blocked
    types:
    - actor
  permissions:
  - name: member
    expr: guest - blocked
  - name: administrator
    expr: admin - blocked